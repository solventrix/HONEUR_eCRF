{% load i18n %}
<div class="cytogenetics-table" ng-show="episode.cytogenetics.length > 0">
  <div class="col-md-12">
    <div class="row header-row display-label">
      <div class="col-sm-2 header"></div>
      <div class="col-sm-2 header">{% trans "Del17p" %}</div>
      <div class="col-sm-2 header">{% trans "IGHV mutated" %}</div>
      <div class="col-sm-2 header">{% trans "Del11q" %}<br>(mL/min)</div>
      <div class="col-sm-2 header">{% trans "TP53" %}</div>
      <div class="col-sm-2 header">{% trans "Complex Karyotype" %}</div>
    </div>
  </div>


  <div ng-repeat="item in episode.cytogenetics | orderBy: '-cytogenetic_date' as cytogenetics">
    <div
      ng-show="$index === 0 || cytogenetics[$index-1].hospital !== item.hospital"
      class="row"
      >

    </div>
    <div class="row table-row" ng-class="{'imported-validation-error': honeurPatientDetailCtrl.hasError(episode.id, '{{  models.Cytogenetics.get_api_name }}', item.id)}">
      <div class="col-sm-2 first-column text-right">
        [[ item.hospital | translate ]] [[ item.cytogenetic_date | displayDate ]] &nbsp;
        <i ng-click="honeurPatientDetailCtrl.editItem('{{ models.Cytogenetics.get_api_name }}', item, episode)" class="fa fa-pencil edit pointer"></i>
      </div>
      <div class="col-sm-2 column">[[ item.del17p ]]</div>
      <div class="col-sm-2 column">[[ item.ighv_rearrangement ]]</div>
      <div class="col-sm-2 column">[[ item.del11q ]]</div>
      <div class="col-sm-2 column">[[ item.tp53_mutation ]]</div>
      <div class="col-sm-2 column">[[ item.karyotype ]]</div>
      </div>
    </div>
  </div>
