{% comment %}
  This should be the same as the record panel except
  we call the upstream modal with `open_modal` so that
  we can pass in the patientdetail.refresh as a callback
{% endcomment %}
<div {% if only_display_if_exists %}ng-show="episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}.length && episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}[0].consistency_token"{% endif %} class="panel panel-default record-panel">
  <div class="panel-heading">
    <h3>
      <i class="{{ models.MMStemCellTransplantEligibility.get_icon }}"></i> {{ models.MMStemCellTransplantEligibility.get_display_name }}
        <i class="fa fa-pencil edit pull-right pointer"
        ng-click="honeurPatientDetailCtrl.editItem('{{ models.MMStemCellTransplantEligibility.get_api_name }}', episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}[0], episode).then(refresh)">
      </i>
    </h3>
  </div>
  <ul ng-show="episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}[0].eligible_for_stem_cell_transplant" class="list-group">
    <li ng-repeat="item in episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}" class="list-group-item" ng-show="episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}.length && episode.{{ models.MMStemCellTransplantEligibility.get_api_name }}[0].eligible_for_stem_cell_transplant">
    <div class="row">
      <div class="col-md-9">
        {% include models.MMStemCellTransplantEligibility.get_detail_template %}
      </div>
      </div>
    </li>
  </ul>
</div>
