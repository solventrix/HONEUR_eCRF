{% load i18n %}
<div class="row">
  <div class="col-md-11 col-md-offset-1">
    <div class="panel panel-default record-panel">
      <div class="panel-heading">
        <h3>
          {% trans "Lab Tests" %}
          <span class="pull-right pointer edit">
            <a
             ng-click="honeurPatientDetailCtrl.newItem('{{ models.LabTest.get_api_name }}', episode)"
            >
              <i class="fa fa-plus-circle edit pointer"></i>
            </a>
        </h3>
      </div>
      <table class="table  mm-table" ng-show="episode.lab_test.length > 0">
        <tr>
          <th></th>
          <th>{% trans "Beta2m" %} (mg/L)</th>
          <th>{% trans "Calcium" %} (mg/DL)</th>
          <th>{% trans "Albumin" %} (g/L)</th>
          <th>{% trans "LDH" %} (u/L)</th>
          <th>{% trans "Creatinine Clearance" %}</th>
          <th>{% trans "M Protein in 24 hour" %}</th>
          <th></th>
        </tr>
        <tr ng-class="{'imported-validation-error': honeurPatientDetailCtrl.hasError(episode.id, 'lab_test', item.id)}"  ng-repeat="item in episode.lab_test | orderBy: '-date' as lab_tests">
          <td class="first-column no-border">[[ item.hospital | translate ]] <br>[[ item.date | displayDate ]]</td>
          <td>[[ item.beta2m ]] </td>
          <td>[[ item.calcium ]]</td>
          <td>[[ item.albumin ]]</td>
          <td>[[ item.LDH ]]</td>
          <td>[[ item.creatinine ]]</td>
          <td>[[ item.mprotein_24h ]]</td>
          <td class="no-border last-column">
            <i ng-click="honeurPatientDetailCtrl.editItem('{{ models.LabTest.get_api_name }}', item, episode)" class="fa fa-pencil edit pointer"></i>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
